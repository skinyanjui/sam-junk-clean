CREATE TABLE public.services (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    title TEXT NOT NULL,
    description TEXT,
    items TEXT[],
    image TEXT,
    popularity TEXT, -- 'high', 'medium', 'low'
    price_range TEXT,
    time_estimate TEXT,
    benefits TEXT[],
    related_blogs JSONB, -- e.g., '[{"title": "Blog Title", "slug": "blog-slug"}]'
    related_services_ids UUID[], -- Store as array of UUIDs
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

CREATE INDEX idx_services_popularity ON public.services(popularity);

CREATE OR REPLACE FUNCTION trigger_set_timestamp()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER set_services_updated_at
BEFORE UPDATE ON public.services
FOR EACH ROW
EXECUTE FUNCTION trigger_set_timestamp();

-- Insert data
INSERT INTO public.services (id, title, description, items, image, popularity, price_range, time_estimate, benefits, related_blogs, related_services_ids) VALUES
('e0a1b2c3-d4e5-f6a7-8901-234567890abc', 'Residential Junk Removal', 'We help homeowners clear out unwanted items from their properties, including furniture, appliances, general household junk, and more.', ARRAY['Full house cleanouts', 'Single item removal', 'Garage & attic cleanouts', 'Basement cleanups', 'Moving & relocation junk'], '/placeholder.svg', 'high', '$75 - $650+', '1-4 hours', ARRAY['Same-day service available', 'Eco-friendly disposal', 'No hidden fees'], '[{"title": "How to Prepare for Residential Junk Removal", "slug": "prepare-for-junk-removal"}, {"title": "Top 5 Items People Remove From Their Homes", "slug": "top-5-removal-items"}]', ARRAY['a2c3d4e5-f6a7-b8c9-0123-4567890abcde', 'b3d4e5f6-a7b8-c9d0-1234-567890abcdef', 'a8c9d0e1-f2a3-b4c5-6789-0abcdef01234']::UUID[]),
('f1b2c3d4-e5f6-a7b8-9012-34567890abcd', 'Commercial Junk Removal', 'Our commercial services help businesses maintain clean, safe, and efficient workspaces by removing office furniture, equipment, and renovation debris.', ARRAY['Office cleanouts', 'Retail space clearing', 'Construction debris removal', 'Equipment disposal', 'Commercial renovations'], '/placeholder.svg', 'high', '$125 - $850+', '2-8 hours', ARRAY['Minimal business disruption', 'Work with your schedule', 'Proper recycling and disposal'], '[{"title": "Keeping Your Business Clean and Organized", "slug": "business-organization"}, {"title": "Office Cleanout Tips for Businesses", "slug": "office-cleanout-tips"}]', ARRAY['dbf2a3b4-c5d6-e7f8-9012-def012345678', 'cae1f2a3-b4c5-d6e7-8901-cdef01234567', 'ec03b4c5-d6e7-f8a9-0123-ef0123456789']::UUID[]),
('a2c3d4e5-f6a7-b8c9-0123-4567890abcde', 'Furniture Removal', 'We remove all types of furniture including sofas, beds, tables, chairs, and more. We make sure items are donated or recycled when possible.', ARRAY['Sofas & couches', 'Beds & mattresses', 'Tables & chairs', 'Cabinets & shelving', 'Office furniture'], '/placeholder.svg', 'high', '$75 - $350+', '30 min - 2 hours', ARRAY['Careful handling', 'Donation options available', 'No need to move items yourself'], '[{"title": "What Happens to Your Furniture After Removal", "slug": "furniture-removal-process"}, {"title": "Sustainable Furniture Disposal Guide", "slug": "sustainable-furniture-disposal"}]', ARRAY['e0a1b2c3-d4e5-f6a7-8901-234567890abc', 'b3d4e5f6-a7b8-c9d0-1234-567890abcdef', 'ec03b4c5-d6e7-f8a9-0123-ef0123456789']::UUID[]),
('b3d4e5f6-a7b8-c9d0-1234-567890abcdef', 'Large Appliance Removal', 'We safely remove and dispose of old appliances, ensuring they''re properly recycled or disposed of according to regulations.', ARRAY['Refrigerators & freezers', 'Washing machines & dryers', 'Dishwashers', 'Ovens & stoves', 'Water heaters'], '/placeholder.svg', 'high', '$75 - $250', '30 min - 1 hour', ARRAY['Eco-friendly disposal', 'Proper handling of hazardous materials', 'All sizes accommodated'], '[{"title": "Appliance Disposal Guide", "slug": "appliance-disposal-guide"}, {"title": "Why Proper Appliance Recycling Matters", "slug": "appliance-recycling-importance"}]', ARRAY['e0a1b2c3-d4e5-f6a7-8901-234567890abc', 'f7b8c9d0-e1f2-a3b4-5678-90abcdef0123', 'cae1f2a3-b4c5-d6e7-8901-cdef01234567']::UUID[]),
('c4e5f6a7-b8c9-d0e1-2345-67890abcdef0', 'Mattress Removal', 'We provide environmentally responsible mattress disposal, ensuring your old mattresses are recycled or properly disposed of.', ARRAY['King & Queen mattresses', 'Full & Twin mattresses', 'Box springs', 'Memory foam mattresses', 'Futons & sofa beds'], '/placeholder.svg', 'medium', '$75 - $175', '15-30 minutes', ARRAY['Eco-friendly recycling', 'Quick removal', 'Hygienic handling'], '[{"title": "How to Dispose of Mattresses Properly", "slug": "mattress-disposal-guide"}]', ARRAY['a2c3d4e5-f6a7-b8c9-0123-4567890abcde', 'e0a1b2c3-d4e5-f6a7-8901-234567890abc']::UUID[]),
('d5f6a7b8-c9d0-e1f2-3456-7890abcdef01', 'Hot Tub Removal', 'Removing a hot tub is complicated work. Our team has the experience and equipment to safely remove and dispose of your unwanted hot tub.', ARRAY['Above-ground hot tubs', 'In-ground hot tubs', 'Spa demolition', 'Hot tub base removal', 'Complete disposal'], '/placeholder.svg', 'low', '$350 - $700', '2-4 hours', ARRAY['Professional dismantling', 'Complete removal of all components', 'Site cleanup included'], '[{"title": "Hot Tub Removal Process Explained", "slug": "hot-tub-removal-guide"}]', ARRAY['b9d0e1f2-a3b4-c5d6-7890-bcdef0123456', 'a8c9d0e1-f2a3-b4c5-6789-0abcdef01234']::UUID[]),
('e6a7b8c9-d0e1-f2a3-4567-890abcdef012', 'Shed Removal', 'From small garden sheds to larger outdoor structures, we can dismantle and remove any unwanted sheds from your property.', ARRAY['Wood sheds', 'Metal sheds', 'Plastic sheds', 'Large storage structures', 'Greenhouse removal'], '/placeholder.svg', 'low', '$200 - $600', '1-3 hours', ARRAY['Complete dismantling', 'Foundation removal available', 'All debris hauled away'], '[{"title": "Preparing for Shed Removal: What You Need to Know", "slug": "shed-removal-preparation"}]', ARRAY['b9d0e1f2-a3b4-c5d6-7890-bcdef0123456', 'dbf2a3b4-c5d6-e7f8-9012-def012345678', 'a8c9d0e1-f2a3-b4c5-6789-0abcdef01234']::UUID[]),
('f7b8c9d0-e1f2-a3b4-5678-90abcdef0123', 'Gym Equipment Removal', 'Heavy gym equipment is difficult to move. Let our professionals safely remove and dispose of your unwanted fitness equipment.', ARRAY['Treadmills', 'Elliptical machines', 'Weight benches', 'Home gyms', 'Free weights & racks'], '/placeholder.svg', 'medium', '$100 - $350', '30 min - 2 hours', ARRAY['Safe handling of heavy equipment', 'No damage to your home', 'Donation options available'], '[{"title": "What to Do With Old Gym Equipment", "slug": "old-gym-equipment-options"}]', ARRAY['cae1f2a3-b4c5-d6e7-8901-cdef01234567', 'ec03b4c5-d6e7-f8a9-0123-ef0123456789']::UUID[]),
('a8c9d0e1-f2a3-b4c5-6789-0abcdef01234', 'Electronics Removal', 'We safely dispose of electronic devices and components, ensuring they are recycled properly and data is securely handled.', ARRAY['TVs & monitors', 'Computers & laptops', 'Printers & scanners', 'Audio equipment', 'Gaming consoles'], '/placeholder.svg', 'medium', '$50 - $200', '30 min - 1 hour', ARRAY['Data security assured', 'Proper e-waste recycling', 'Component recovery'], '[{"title": "Electronic Waste Disposal Guide", "slug": "electronic-waste-disposal"}]', ARRAY['cae1f2a3-b4c5-d6e7-8901-cdef01234567', 'ec03b4c5-d6e7-f8a9-0123-ef0123456789']::UUID[]),
('b9d0e1f2-a3b4-c5d6-7890-bcdef0123456', 'Yard Waste Removal', 'We help clear your yard of debris, branches, leaves, and other organic waste, leaving your outdoor space clean and tidy.', ARRAY['Tree branches & limbs', 'Leaves & garden waste', 'Grass clippings', 'Bushes & shrub removal', 'Soil & dirt removal'], '/placeholder.svg', 'medium', '$125 - $450', '1-3 hours', ARRAY['Eco-friendly disposal', 'Composting options', 'Complete cleanup'], '[{"title": "Seasonal Yard Cleanup Guide", "slug": "seasonal-yard-cleanup"}]', ARRAY['e6a7b8c9-d0e1-f2a3-4567-890abcdef012', 'dbf2a3b4-c5d6-e7f8-9012-def012345678']::UUID[]),
('cae1f2a3-b4c5-d6e7-8901-cdef01234567', 'Light Demolition', 'After construction or renovation projects, we help clear out debris and leftover materials to leave your space clean and ready to use.', ARRAY['Deck & patio removal', 'Shed & playset demolition', 'Fence teardown', 'Kitchen & bathroom demolition', 'Drywall removal'], '/placeholder.svg', 'medium', '$250 - $750+', '2-6 hours', ARRAY['Professional tools & equipment', 'Safe demolition practices', 'Complete debris removal'], '[{"title": "Post-Renovation Cleanup Tips", "slug": "post-renovation-cleanup"}, {"title": "DIY vs Professional Demolition", "slug": "diy-vs-pro-demolition"}]', ARRAY['dbf2a3b4-c5d6-e7f8-9012-def012345678', 'e6a7b8c9-d0e1-f2a3-4567-890abcdef012', 'd5f6a7b8-c9d0-e1f2-3456-7890abcdef01']::UUID[]),
('dbf2a3b4-c5d6-e7f8-9012-def012345678', 'Scrap Removal', 'We collect and properly dispose of scrap metal, appliances, and other recyclable materials from your home or business.', ARRAY['Metal scrap', 'Appliances', 'Electronics', 'Automotive parts', 'Plumbing fixtures'], '/placeholder.svg', 'low', '$100 - $400', '1-3 hours', ARRAY['Environmentally responsible recycling', 'Proper sorting of materials', 'Potential rebates for valuable metals'], '[{"title": "Scrap Metal Recycling Guide", "slug": "scrap-metal-recycling"}]', ARRAY['b3d4e5f6-a7b8-c9d0-1234-567890abcdef', 'f7b8c9d0-e1f2-a3b4-5678-90abcdef0123', 'a8c9d0e1-f2a3-b4c5-6789-0abcdef01234']::UUID[]),
('ec03b4c5-d6e7-f8a9-0123-ef0123456789', 'Construction Debris Removal', 'We handle the cleanup of construction and renovation sites, removing debris, materials, and waste for a clean workspace.', ARRAY['Wood & lumber scraps', 'Drywall & plaster', 'Concrete & brick', 'Tile & flooring', 'Packaging materials'], '/placeholder.svg', 'high', '$200 - $850+', '1-8 hours', ARRAY['Efficient site cleanup', 'Sorting of recyclable materials', 'Responsible disposal'], '[{"title": "Managing Construction Waste Efficiently", "slug": "construction-waste-management"}]', ARRAY['f1b2c3d4-e5f6-a7b8-9012-34567890abcd', 'cae1f2a3-b4c5-d6e7-8901-cdef01234567', 'b9d0e1f2-a3b4-c5d6-7890-bcdef0123456']::UUID[]),
('fd14c5d6-e7f8-a9b0-1234-f01234567890', 'Donation Pick Up', 'We collect and transport your gently used items to local charities, helping your unwanted possessions find new homes.', ARRAY['Furniture', 'Clothing & textiles', 'Books & media', 'Kitchen items', 'Small appliances'], '/placeholder.svg', 'medium', '$75 - $300', '30 min - 2 hours', ARRAY['Tax deduction receipts', 'Supporting local charities', 'Environmentally friendly'], '[{"title": "Donation Guide: What Can and Cannot Be Donated", "slug": "donation-guidelines"}]', ARRAY['a2c3d4e5-f6a7-b8c9-0123-4567890abcde', 'e0a1b2c3-d4e5-f6a7-8901-234567890abc', 'f7b8c9d0-e1f2-a3b4-5678-90abcdef0123']::UUID[]);
